2024-03-14 14:47:50.7825 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 14:47:50.9513 DEBUG Hosting starting
2024-03-14 14:47:51.2984 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 14:47:51.4715 INFO Now listening on: http://localhost:5149
2024-03-14 14:47:51.4715 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 14:47:51.4715 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 14:47:51.4715 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 14:47:51.4715 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 14:47:51.5511 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 14:47:51.5511 INFO Hosting environment: Development
2024-03-14 14:47:51.5511 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 14:47:51.5511 DEBUG Hosting started
2024-03-14 14:50:24.8908 DEBUG Connection id "0HN249ST2Q450" received FIN.
2024-03-14 14:50:24.8908 DEBUG Connection id "0HN249ST2Q450" accepted.
2024-03-14 14:50:24.9029 DEBUG Connection id "0HN249ST2Q450" started.
2024-03-14 14:50:24.9029 DEBUG Connection id "0HN249ST2Q451" accepted.
2024-03-14 14:50:24.9029 DEBUG Connection id "0HN249ST2Q451" started.
2024-03-14 14:50:24.9267 DEBUG Connection id "0HN249ST2Q450" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 14:50:24.9267 DEBUG Connection id "0HN249ST2Q450" disconnecting.
2024-03-14 14:50:24.9267 DEBUG Connection id "0HN249ST2Q450" stopped.
2024-03-14 14:50:24.9710 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - -
2024-03-14 14:50:24.9916 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 14:50:25.0297 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 14:50:25.0297 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{employeeId:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 14:50:25.0297 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:50:25.0469 WARN Failed to determine the https port for redirect.
2024-03-14 14:50:25.0469 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 14:50:25.0469 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:50:25.0903 INFO Route matched with {action = "GetEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEmployeeForCompany(System.Guid, System.Guid) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 14:50:25.0903 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 14:50:25.0903 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 14:50:25.0903 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 14:50:25.0903 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 14:50:25.0903 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 14:50:25.0903 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 14:50:25.3407 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 14:50:25.5063 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 14:50:25.5288 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 14:50:25.5288 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 14:50:25.5288 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:50:25.5288 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:50:25.5288 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 14:50:25.5288 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:50:25.5288 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 14:50:25.5288 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' using the name 'employeeId' in request data ...
2024-03-14 14:50:25.5288 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 14:50:25.5288 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 14:50:25.5288 DEBUG Attempting to validate the bound parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 14:50:25.5288 DEBUG Done attempting to validate the bound parameter 'employeeId' of type 'System.Guid'.
2024-03-14 14:50:28.4682 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 14:50:28.6467 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(c => c.Id.Equals(__companyId_0))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 14:50:28.9510 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT TOP(2) c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId == @__companyId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 14:50:28.9867 DEBUG Creating DbConnection.
2024-03-14 14:50:29.0215 DEBUG Created DbConnection. (33ms).
2024-03-14 14:50:29.0215 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.2474 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.2474 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:50:31.2474 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2024-03-14 14:50:31.2661 DEBUG Initialized DbCommand for 'ExecuteReader' (16ms).
2024-03-14 14:50:31.2661 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 14:50:31.3317 INFO Executed DbCommand (54ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 14:50:31.3423 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.3423 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 14ms reading results.
2024-03-14 14:50:31.3423 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.3574 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-03-14 14:50:31.3574 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 14:50:31.3714 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 14:50:31.3714 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.3714 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.3714 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:50:31.3714 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:50:31.3714 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:50:31.3714 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 14:50:31.3714 INFO Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 14:50:31.3714 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.3714 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 14:50:31.3714 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.3714 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 14:50:31.3915 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 14:50:31.4034 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 14:50:31.4034 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 14:50:31.4034 INFO Executing OkObjectResult, writing value of type 'Shared.DataTransferObjects.EmployeeDto'.
2024-03-14 14:50:31.4317 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation) in 6331.9354ms
2024-03-14 14:50:31.4317 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:50:31.4317 DEBUG Connection id "0HN249ST2Q451" completed keep alive response.
2024-03-14 14:50:31.4317 DEBUG 'RepositoryContext' disposed.
2024-03-14 14:50:31.4317 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:50:31.4317 DEBUG Disposed connection to database '' on server '' (2ms).
2024-03-14 14:50:31.4317 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 200 - application/json;+charset=utf-8 6482.8896ms
2024-03-14 14:51:21.3939 INFO Request starting HTTP/1.1 PUT http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 92
2024-03-14 14:51:21.3939 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 14:51:21.3939 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 14:51:21.3939 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:51:21.3939 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 14:51:21.4009 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:51:21.4009 INFO Route matched with {action = "UpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateEmployeeForCompany(System.Guid, System.Guid, Shared.DataTransferObjects.EmployeeForUpdateDto) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 14:51:21.4009 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 14:51:21.4009 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 14:51:21.4009 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 14:51:21.4009 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 14:51:21.4009 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 14:51:21.4009 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 14:51:21.4009 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 14:51:21.4009 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 14:51:21.4009 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 14:51:21.4009 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:51:21.4009 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:51:21.4009 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 14:51:21.4009 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:51:21.4009 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 14:51:21.4009 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 14:51:21.4009 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 14:51:21.4009 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 14:51:21.4009 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 14:51:21.4009 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 14:51:21.4009 DEBUG Attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto' ...
2024-03-14 14:51:21.4009 DEBUG Attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto' using the name '' in request data ...
2024-03-14 14:51:21.4009 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 14:51:21.4195 DEBUG Connection id "0HN249ST2Q451", Request id "0HN249ST2Q451:00000002": started reading request body.
2024-03-14 14:51:21.4195 DEBUG Connection id "0HN249ST2Q451", Request id "0HN249ST2Q451:00000002": done reading request body.
2024-03-14 14:51:21.4195 DEBUG JSON input formatter succeeded, deserializing to type 'Shared.DataTransferObjects.EmployeeForUpdateDto'
2024-03-14 14:51:21.4195 DEBUG Done attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto'.
2024-03-14 14:51:21.4195 DEBUG Done attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto'.
2024-03-14 14:51:21.4195 DEBUG Attempting to validate the bound parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto' ...
2024-03-14 14:51:21.4195 DEBUG Done attempting to validate the bound parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto'.
2024-03-14 14:51:21.5019 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 14:51:21.5019 DEBUG Creating DbConnection.
2024-03-14 14:51:21.5019 DEBUG Created DbConnection. (0ms).
2024-03-14 14:51:21.5019 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5019 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5019 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:51:21.5019 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:51:21.5019 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:51:21.5019 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 14:51:21.5019 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 14:51:21.5019 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5019 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 14:51:21.5019 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5019 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 14:51:21.5095 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .SingleOrDefault()'
2024-03-14 14:51:21.5095 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 14:51:21.5095 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5095 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5095 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:51:21.5095 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:51:21.5095 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:51:21.5095 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 14:51:21.5095 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 14:51:21.5528 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 14:51:21.5742 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5742 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 56ms reading results.
2024-03-14 14:51:21.5742 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.5742 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 14:51:21.5742 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 14:51:21.5742 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 14:51:21.5918 DEBUG The unchanged property 'Employee.Age' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 14:51:21.6036 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 14:51:21.6036 DEBUG The unchanged property 'Employee.Position' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 14:51:21.6036 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 14:51:21.6647 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.6647 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.6647 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:51:21.6660 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:51:21.6660 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:51:21.6660 DEBUG Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0, [Position] = @p1
OUTPUT 1
WHERE [EmployeeId] = @p2;
2024-03-14 14:51:21.6660 INFO Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0, [Position] = @p1
OUTPUT 1
WHERE [EmployeeId] = @p2;
2024-03-14 14:51:21.6660 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.6660 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-03-14 14:51:21.6660 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:21.6660 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 14:51:21.7350 ERROR An exception occurred in the database while saving changes for context type 'Repository.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'Marinko.dbo.Employees', column 'Position'. Truncated value: 'Software developer s'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:0ce1bbec-62f5-4344-ab9e-6104a2bfd3aa
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-03-14 14:51:45.7768 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation) in 24369.0754ms
2024-03-14 14:51:45.7768 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:51:45.8910 ERROR An unhandled exception has occurred while executing the request.
2024-03-14 14:51:45.9484 ERROR Something went wrong: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'Marinko.dbo.Employees', column 'Position'. Truncated value: 'Software developer s'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:0ce1bbec-62f5-4344-ab9e-6104a2bfd3aa
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Repository.RepositoryManager.Save() in C:\TreinamentoLivros\Marinko\Marinko.API\Repository\RepositoryManager.cs:line 23
   at Service.EmployeeService.UpdateEmployeeForCompany(Guid companyId, Guid id, EmployeeForUpdateDto employeeForUpdate, Boolean compTrackChanges, Boolean empTrackChanges) in C:\TreinamentoLivros\Marinko\Marinko.API\Service\EmployeeService.cs:line 90
   at CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany(Guid companyId, Guid id, EmployeeForUpdateDto employee) in C:\TreinamentoLivros\Marinko\Marinko.API\CompanyEmployees.Presentation\Controllers\EmployeesController.cs:line 56
   at lambda_method30(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\Program.cs:line 140
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-03-14 14:51:45.9634 DEBUG Connection id "0HN249ST2Q451" completed keep alive response.
2024-03-14 14:51:45.9881 DEBUG 'RepositoryContext' disposed.
2024-03-14 14:51:45.9881 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:51:45.9881 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 14:51:45.9881 INFO Request finished HTTP/1.1 PUT http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 500 - application/json 24596.5123ms
2024-03-14 14:53:30.3099 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 14:53:30.4467 DEBUG Hosting starting
2024-03-14 14:53:30.5868 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 14:53:30.6988 INFO Now listening on: http://localhost:5149
2024-03-14 14:53:30.6988 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 14:53:30.6988 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 14:53:30.6988 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 14:53:30.6988 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 14:53:30.7609 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 14:53:30.7609 INFO Hosting environment: Development
2024-03-14 14:53:30.7609 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 14:53:30.7609 DEBUG Hosting started
2024-03-14 14:53:40.2285 DEBUG Connection id "0HN249UN9MFA9" received FIN.
2024-03-14 14:53:40.2285 DEBUG Connection id "0HN249UN9MFA9" accepted.
2024-03-14 14:53:40.2285 DEBUG Connection id "0HN249UN9MFA9" started.
2024-03-14 14:53:40.2439 DEBUG Connection id "0HN249UN9MFAA" accepted.
2024-03-14 14:53:40.2439 DEBUG Connection id "0HN249UN9MFAA" started.
2024-03-14 14:53:40.2439 DEBUG Connection id "0HN249UN9MFA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 14:53:40.2439 DEBUG Connection id "0HN249UN9MFA9" disconnecting.
2024-03-14 14:53:40.2439 DEBUG Connection id "0HN249UN9MFA9" stopped.
2024-03-14 14:53:40.2861 INFO Request starting HTTP/1.1 PUT http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 92
2024-03-14 14:53:40.3003 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 14:53:40.3280 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 14:53:40.3280 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 14:53:40.3280 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:53:40.3434 WARN Failed to determine the https port for redirect.
2024-03-14 14:53:40.3434 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 14:53:40.3434 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:53:40.3694 INFO Route matched with {action = "UpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateEmployeeForCompany(System.Guid, System.Guid, Shared.DataTransferObjects.EmployeeForUpdateDto) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 14:53:40.3694 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 14:53:40.3694 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 14:53:40.3694 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 14:53:40.3694 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 14:53:40.3694 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 14:53:40.3694 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 14:53:40.5349 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 14:53:40.6728 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 14:53:40.6869 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 14:53:40.6869 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 14:53:40.6869 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:53:40.6869 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:53:40.6869 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 14:53:40.6869 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 14:53:40.6869 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 14:53:40.6869 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 14:53:40.6869 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 14:53:40.6869 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 14:53:40.6869 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 14:53:40.6869 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 14:53:40.6869 DEBUG Attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto' ...
2024-03-14 14:53:40.6869 DEBUG Attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto' using the name '' in request data ...
2024-03-14 14:53:40.6869 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 14:53:40.7035 DEBUG Connection id "0HN249UN9MFAA", Request id "0HN249UN9MFAA:00000001": started reading request body.
2024-03-14 14:53:40.7035 DEBUG Connection id "0HN249UN9MFAA", Request id "0HN249UN9MFAA:00000001": done reading request body.
2024-03-14 14:53:40.7035 DEBUG JSON input formatter succeeded, deserializing to type 'Shared.DataTransferObjects.EmployeeForUpdateDto'
2024-03-14 14:53:40.7035 DEBUG Done attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto'.
2024-03-14 14:53:40.7035 DEBUG Done attempting to bind parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto'.
2024-03-14 14:53:40.7035 DEBUG Attempting to validate the bound parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto' ...
2024-03-14 14:53:40.7211 DEBUG Done attempting to validate the bound parameter 'employee' of type 'Shared.DataTransferObjects.EmployeeForUpdateDto'.
2024-03-14 14:54:51.5044 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 14:54:51.6102 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(c => c.Id.Equals(__companyId_0))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 14:54:51.9224 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT TOP(2) c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId == @__companyId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 14:54:51.9659 DEBUG Creating DbConnection.
2024-03-14 14:54:51.9977 DEBUG Created DbConnection. (29ms).
2024-03-14 14:54:51.9977 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:54:52.3435 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:54:52.3435 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:54:52.3435 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2024-03-14 14:54:52.3626 DEBUG Initialized DbCommand for 'ExecuteReader' (17ms).
2024-03-14 14:54:52.3739 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 14:54:52.4238 INFO Executed DbCommand (49ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 14:54:52.4330 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:54:52.4330 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-03-14 14:54:52.4330 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:54:52.4478 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-03-14 14:55:02.0172 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .SingleOrDefault()'
2024-03-14 14:55:02.0258 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 14:55:02.0258 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:02.0258 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:02.0258 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:55:02.0258 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:55:02.0258 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:55:02.0258 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 14:55:02.0258 INFO Executed DbCommand (6ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 14:55:02.0556 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 14:55:02.0765 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:02.0765 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 38ms reading results.
2024-03-14 14:55:02.0765 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:02.0765 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 14:55:42.5862 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 14:55:42.5898 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 14:55:42.5898 DEBUG The unchanged property 'Employee.Age' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 14:55:42.6083 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 14:55:42.6083 DEBUG The unchanged property 'Employee.Position' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 14:55:42.6083 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 14:55:42.6734 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:42.6734 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:42.6734 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 14:55:42.6734 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:55:42.6734 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 14:55:42.6734 DEBUG Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0, [Position] = @p1
OUTPUT 1
WHERE [EmployeeId] = @p2;
2024-03-14 14:55:42.6734 INFO Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0, [Position] = @p1
OUTPUT 1
WHERE [EmployeeId] = @p2;
2024-03-14 14:55:42.6853 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:42.6853 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-03-14 14:55:42.6853 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:55:42.6853 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 14:55:42.7248 ERROR An exception occurred in the database while saving changes for context type 'Repository.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'Marinko.dbo.Employees', column 'Position'. Truncated value: 'Software developer s'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d0ed4eee-1b85-47d8-bf99-1c76574c2b6e
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-03-14 14:57:24.0954 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation) in 223706.4427ms
2024-03-14 14:57:24.0954 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 14:57:24.1537 ERROR An unhandled exception has occurred while executing the request.
2024-03-14 14:57:24.1537 ERROR Something went wrong: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'Marinko.dbo.Employees', column 'Position'. Truncated value: 'Software developer s'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:d0ed4eee-1b85-47d8-bf99-1c76574c2b6e
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Repository.RepositoryManager.Save() in C:\TreinamentoLivros\Marinko\Marinko.API\Repository\RepositoryManager.cs:line 23
   at Service.EmployeeService.UpdateEmployeeForCompany(Guid companyId, Guid id, EmployeeForUpdateDto employeeForUpdate, Boolean compTrackChanges, Boolean empTrackChanges) in C:\TreinamentoLivros\Marinko\Marinko.API\Service\EmployeeService.cs:line 90
   at CompanyEmployees.Presentation.Controllers.EmployeesController.UpdateEmployeeForCompany(Guid companyId, Guid id, EmployeeForUpdateDto employee) in C:\TreinamentoLivros\Marinko\Marinko.API\CompanyEmployees.Presentation\Controllers\EmployeesController.cs:line 56
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_2>d.MoveNext() in C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\Program.cs:line 140
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-03-14 14:57:24.1847 DEBUG Connection id "0HN249UN9MFAA" completed keep alive response.
2024-03-14 14:57:24.1847 DEBUG 'RepositoryContext' disposed.
2024-03-14 14:57:24.1985 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 14:57:24.1985 DEBUG Disposed connection to database '' on server '' (2ms).
2024-03-14 14:57:24.1985 INFO Request finished HTTP/1.1 PUT http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 500 - application/json 223922.6993ms
2024-03-14 15:11:49.2873 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 15:11:49.5948 DEBUG Hosting starting
2024-03-14 15:11:49.7636 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 15:11:49.9828 INFO Now listening on: http://localhost:5149
2024-03-14 15:11:49.9830 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 15:11:49.9830 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 15:11:49.9830 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 15:11:49.9830 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 15:11:50.0402 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 15:11:50.0431 INFO Hosting environment: Development
2024-03-14 15:11:50.0431 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 15:11:50.0431 DEBUG Hosting started
2024-03-14 15:12:20.0587 DEBUG Connection id "0HN24A9517HL4" received FIN.
2024-03-14 15:12:20.0587 DEBUG Connection id "0HN24A9517HL4" accepted.
2024-03-14 15:12:20.0587 DEBUG Connection id "0HN24A9517HL4" started.
2024-03-14 15:12:20.0741 DEBUG Connection id "0HN24A9517HL5" accepted.
2024-03-14 15:12:20.0741 DEBUG Connection id "0HN24A9517HL5" started.
2024-03-14 15:12:20.0741 DEBUG Connection id "0HN24A9517HL4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 15:12:20.0741 DEBUG Connection id "0HN24A9517HL4" disconnecting.
2024-03-14 15:12:20.0741 DEBUG Connection id "0HN24A9517HL4" stopped.
2024-03-14 15:12:20.1158 INFO Request starting HTTP/1.1 PUT http://localhost:5149/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3 - - 0
2024-03-14 15:12:20.1318 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 15:12:20.1546 DEBUG 1 candidate(s) found for the request path '/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3'
2024-03-14 15:12:20.1691 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{id:guid}' is valid for the request path '/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3'
2024-03-14 15:12:20.1691 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)'
2024-03-14 15:12:20.2039 WARN Failed to determine the https port for redirect.
2024-03-14 15:12:20.2039 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:12:20.2039 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)'
2024-03-14 15:12:20.2309 INFO Route matched with {action = "UpdateCompany", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCompany(System.Guid, Shared.DataTransferObjects.CompanyForUpdateDto) on controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation).
2024-03-14 15:12:20.2448 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:12:20.2448 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:12:20.2448 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:12:20.2448 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:12:20.2448 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:12:20.2448 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:12:20.3895 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 15:12:20.5456 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:12:20.5599 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 15:12:20.5599 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 15:12:20.5599 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:12:20.5599 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:12:20.5599 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 15:12:20.5599 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 15:12:20.5599 DEBUG Attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto' ...
2024-03-14 15:12:20.5599 DEBUG Attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto' using the name '' in request data ...
2024-03-14 15:12:20.5599 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type '(null)'.
2024-03-14 15:12:20.5599 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type '(null)'.
2024-03-14 15:12:20.5599 DEBUG No input formatter was found to support the content type '(null)' for use with the [FromBody] attribute.
2024-03-14 15:12:20.5599 DEBUG Done attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto'.
2024-03-14 15:12:20.5599 DEBUG Done attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto'.
2024-03-14 15:12:20.5599 DEBUG Attempting to validate the bound parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto' ...
2024-03-14 15:12:20.5748 DEBUG Done attempting to validate the bound parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto'.
2024-03-14 15:12:20.5748 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2024-03-14 15:12:20.5748 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 15:12:20.5748 DEBUG Attempting to select an output formatter based on Accept header '*/*' and explicitly specified content types 'Microsoft.AspNetCore.Mvc.Formatters.MediaTypeCollection'. The content types in the accept header must be a subset of the explicitly set content types.
2024-03-14 15:12:20.5876 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-14 15:12:20.5876 INFO Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-03-14 15:12:20.6168 INFO Executed action CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation) in 366.324ms
2024-03-14 15:12:20.6168 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)'
2024-03-14 15:12:20.6168 DEBUG Connection id "0HN24A9517HL5" completed keep alive response.
2024-03-14 15:12:20.6216 INFO Request finished HTTP/1.1 PUT http://localhost:5149/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3 - 415 - application/problem+json;+charset=utf-8 510.8593ms
2024-03-14 15:14:46.8624 INFO Request starting HTTP/1.1 PUT http://localhost:5149/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3 - application/json 265
2024-03-14 15:14:46.8624 DEBUG 1 candidate(s) found for the request path '/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3'
2024-03-14 15:14:46.8624 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{id:guid}' is valid for the request path '/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3'
2024-03-14 15:14:46.8624 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)'
2024-03-14 15:14:46.8624 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:14:46.8624 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)'
2024-03-14 15:14:46.8726 INFO Route matched with {action = "UpdateCompany", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateCompany(System.Guid, Shared.DataTransferObjects.CompanyForUpdateDto) on controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation).
2024-03-14 15:14:46.8726 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:14:46.8726 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:14:46.8726 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:14:46.8726 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:14:46.8726 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:14:46.8726 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:14:46.8940 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:14:46.8940 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 15:14:46.8940 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 15:14:46.8940 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:14:46.8940 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:14:46.8940 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 15:14:46.8940 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 15:14:46.8940 DEBUG Attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto' ...
2024-03-14 15:14:46.8940 DEBUG Attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto' using the name '' in request data ...
2024-03-14 15:14:46.8940 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 15:14:46.9030 DEBUG Connection id "0HN24A9517HL5", Request id "0HN24A9517HL5:00000002": started reading request body.
2024-03-14 15:14:46.9030 DEBUG Connection id "0HN24A9517HL5", Request id "0HN24A9517HL5:00000002": done reading request body.
2024-03-14 15:14:46.9030 DEBUG JSON input formatter succeeded, deserializing to type 'Shared.DataTransferObjects.CompanyForUpdateDto'
2024-03-14 15:14:46.9030 DEBUG Done attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto'.
2024-03-14 15:14:46.9030 DEBUG Done attempting to bind parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto'.
2024-03-14 15:14:46.9030 DEBUG Attempting to validate the bound parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto' ...
2024-03-14 15:14:46.9206 DEBUG Done attempting to validate the bound parameter 'company' of type 'Shared.DataTransferObjects.CompanyForUpdateDto'.
2024-03-14 15:14:47.6885 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 15:14:47.7677 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(c => c.Id.Equals(__companyId_0))
    .SingleOrDefault()'
2024-03-14 15:14:48.0055 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT TOP(2) c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId == @__companyId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 15:14:48.0377 DEBUG Creating DbConnection.
2024-03-14 15:14:48.0655 DEBUG Created DbConnection. (24ms).
2024-03-14 15:14:48.0655 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:49.8029 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:49.8029 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 15:14:49.8118 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2024-03-14 15:14:49.8118 DEBUG Initialized DbCommand for 'ExecuteReader' (14ms).
2024-03-14 15:14:49.8278 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 15:14:49.8830 INFO Executed DbCommand (51ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 15:14:49.9087 DEBUG Context 'RepositoryContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:49.9278 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:49.9359 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 47ms reading results.
2024-03-14 15:14:49.9359 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:49.9359 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-03-14 15:14:49.9554 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 15:14:49.9554 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 15:14:49.9712 DEBUG The unchanged property 'Company.Address' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 15:14:49.9712 DEBUG An entity of type 'Company' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:49.9786 DEBUG The unchanged property 'Company.Country' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 15:14:49.9786 DEBUG The unchanged property 'Company.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 15:14:49.9786 DEBUG 1 entities were added and 0 entities were removed from navigation 'Company.Employees'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:50.0086 DEBUG 'RepositoryContext' generated a value for the property 'Employee.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:50.0237 DEBUG The navigation 'Employee.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:50.0324 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:50.0324 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 15:14:50.1347 DEBUG Executing 2 update commands as a batch.
2024-03-14 15:14:50.1347 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:50.1347 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:50.1347 DEBUG Beginning transaction with isolation level 'Unspecified'.
2024-03-14 15:14:50.1347 DEBUG Began transaction with isolation level 'ReadCommitted'.
2024-03-14 15:14:50.1522 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 15:14:50.1522 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:14:50.1522 DEBUG Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-14 15:14:50.1522 DEBUG Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 60), @p1='?' (Size = 60), @p2='?' (Size = 60), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid), @p7='?' (Size = 30), @p8='?' (Size = 20)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Companies] SET [Address] = @p0, [Country] = @p1, [Name] = @p2
OUTPUT 1
WHERE [CompanyId] = @p3;
INSERT INTO [Employees] ([EmployeeId], [Age], [CompanyId], [Name], [Position])
VALUES (@p4, @p5, @p6, @p7, @p8);
2024-03-14 15:14:50.1522 INFO Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 60), @p1='?' (Size = 60), @p2='?' (Size = 60), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid), @p7='?' (Size = 30), @p8='?' (Size = 20)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Companies] SET [Address] = @p0, [Country] = @p1, [Name] = @p2
OUTPUT 1
WHERE [CompanyId] = @p3;
INSERT INTO [Employees] ([EmployeeId], [Age], [CompanyId], [Name], [Position])
VALUES (@p4, @p5, @p6, @p7, @p8);
2024-03-14 15:14:50.1522 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:50.1522 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-03-14 15:14:50.1671 DEBUG Committing transaction.
2024-03-14 15:14:50.1671 DEBUG Committed transaction.
2024-03-14 15:14:50.1671 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:50.1671 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 15:14:50.1671 DEBUG Disposing transaction.
2024-03-14 15:14:50.1671 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:50.1671 DEBUG An entity of type 'Company' tracked by 'RepositoryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 15:14:50.1671 DEBUG SaveChanges completed for 'RepositoryContext' with 2 entities written to the database.
2024-03-14 15:14:50.1671 INFO Executing StatusCodeResult, setting HTTP status code 204
2024-03-14 15:14:50.1671 INFO Executed action CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation) in 3303.9013ms
2024-03-14 15:14:50.1671 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.UpdateCompany (CompanyEmployees.Presentation)'
2024-03-14 15:14:50.1671 DEBUG Connection id "0HN24A9517HL5" completed keep alive response.
2024-03-14 15:14:50.1671 DEBUG 'RepositoryContext' disposed.
2024-03-14 15:14:50.1879 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:14:50.1879 DEBUG Disposed connection to database '' on server '' (2ms).
2024-03-14 15:14:50.1879 INFO Request finished HTTP/1.1 PUT http://localhost:5149/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3 - 204 - - 3327.9388ms
2024-03-14 15:16:57.2307 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3 - application/json 265
2024-03-14 15:16:57.2307 DEBUG 1 candidate(s) found for the request path '/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3'
2024-03-14 15:16:57.2307 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{id:guid}' is valid for the request path '/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3'
2024-03-14 15:16:57.2307 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompany (CompanyEmployees.Presentation)'
2024-03-14 15:16:57.2307 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:16:57.2307 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompany (CompanyEmployees.Presentation)'
2024-03-14 15:16:57.2307 INFO Route matched with {action = "GetCompany", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCompany(System.Guid) on controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation).
2024-03-14 15:16:57.2307 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:16:57.2307 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:16:57.2307 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:16:57.2307 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:16:57.2307 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:16:57.2307 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:16:57.2307 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:16:57.2307 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 15:16:57.2307 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 15:16:57.2307 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:16:57.2307 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:16:57.2307 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 15:16:57.2307 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 15:17:01.4719 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 15:17:01.4719 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(c => c.Id.Equals(__companyId_0))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 15:17:01.4823 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT TOP(2) c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId == @__companyId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 15:17:01.4823 DEBUG Creating DbConnection.
2024-03-14 15:17:01.4823 DEBUG Created DbConnection. (0ms).
2024-03-14 15:17:01.4823 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:01.4823 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:01.4823 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 15:17:01.4823 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:17:01.4823 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:17:01.4823 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 15:17:01.4823 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 15:17:01.4823 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:01.4823 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 15:17:01.4823 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:01.4823 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 15:17:01.4823 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 15:17:01.4823 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 15:17:01.4823 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 15:17:01.4823 INFO Executing OkObjectResult, writing value of type 'Shared.DataTransferObjects.CompanyDto'.
2024-03-14 15:17:01.4969 INFO Executed action CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompany (CompanyEmployees.Presentation) in 4259.7651ms
2024-03-14 15:17:01.4969 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompany (CompanyEmployees.Presentation)'
2024-03-14 15:17:01.4969 DEBUG Connection id "0HN24A9517HL5" completed keep alive response.
2024-03-14 15:17:01.4969 DEBUG 'RepositoryContext' disposed.
2024-03-14 15:17:01.4969 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:01.4969 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 15:17:01.4969 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/3d490a70-94ce-4d15-9494-5248280c2ce3 - 200 - application/json;+charset=utf-8 4270.9847ms
2024-03-14 15:17:01.4969 DEBUG Connection id "0HN24A9517HL5", Request id "0HN24A9517HL5:00000003": started reading request body.
2024-03-14 15:17:01.4969 DEBUG Connection id "0HN24A9517HL5", Request id "0HN24A9517HL5:00000003": done reading request body.
2024-03-14 15:17:25.4634 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies - - -
2024-03-14 15:17:25.4634 DEBUG 1 candidate(s) found for the request path '/api/companies'
2024-03-14 15:17:25.4634 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)' with route pattern 'api/companies' is valid for the request path '/api/companies'
2024-03-14 15:17:25.4634 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)'
2024-03-14 15:17:25.4634 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:17:25.4634 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)'
2024-03-14 15:17:25.4634 INFO Route matched with {action = "GetCompanies", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCompanies() on controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation).
2024-03-14 15:17:25.4634 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:17:25.4634 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:17:25.4634 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:17:25.4634 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:17:25.4634 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:17:25.4634 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:17:25.4634 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:17:30.6746 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 15:17:30.6746 DEBUG Compiling query expression: 
'DbSet<Company>()
    .AsNoTracking()
    .OrderBy(c => c.Name)'
2024-03-14 15:17:30.6832 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)'
2024-03-14 15:17:30.6832 DEBUG Creating DbConnection.
2024-03-14 15:17:30.6832 DEBUG Created DbConnection. (0ms).
2024-03-14 15:17:30.6832 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:30.6832 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:30.6832 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 15:17:30.6832 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:17:30.6832 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:17:30.6832 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
ORDER BY [c].[Name]
2024-03-14 15:17:30.6832 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
ORDER BY [c].[Name]
2024-03-14 15:17:30.6832 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:30.6832 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 15:17:30.6832 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:30.6832 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 15:17:30.6832 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 15:17:30.6832 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 15:17:30.6832 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 15:17:30.6832 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.DataTransferObjects.CompanyDto, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-14 15:17:30.6974 INFO Executed action CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation) in 5230.3211ms
2024-03-14 15:17:30.6974 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)'
2024-03-14 15:17:30.6974 DEBUG Connection id "0HN24A9517HL5" completed keep alive response.
2024-03-14 15:17:30.6974 DEBUG 'RepositoryContext' disposed.
2024-03-14 15:17:30.6974 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:17:30.6974 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 15:17:30.6974 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies - 200 - application/json;+charset=utf-8 5235.6254ms
2024-03-14 15:18:25.2707 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies - - -
2024-03-14 15:18:25.2707 DEBUG 1 candidate(s) found for the request path '/api/companies'
2024-03-14 15:18:25.2707 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)' with route pattern 'api/companies' is valid for the request path '/api/companies'
2024-03-14 15:18:25.2707 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)'
2024-03-14 15:18:25.2707 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:18:25.2707 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)'
2024-03-14 15:18:25.2707 INFO Route matched with {action = "GetCompanies", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCompanies() on controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation).
2024-03-14 15:18:25.2707 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:18:25.2707 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:18:25.2707 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:18:25.2707 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:18:25.2707 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:18:25.2707 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:18:25.2707 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:18:29.9325 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 15:18:29.9325 DEBUG Creating DbConnection.
2024-03-14 15:18:29.9325 DEBUG Created DbConnection. (0ms).
2024-03-14 15:18:29.9325 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:18:29.9325 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:18:29.9325 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 15:18:29.9325 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:18:29.9325 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:18:29.9325 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
ORDER BY [c].[Name]
2024-03-14 15:18:29.9325 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
ORDER BY [c].[Name]
2024-03-14 15:18:29.9325 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:18:29.9325 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 15:18:29.9325 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:18:29.9325 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 15:18:29.9325 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 15:18:29.9325 DEBUG Attempting to select an output formatter based on Accept header 'text/json'.
2024-03-14 15:18:29.9475 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'text/json' to write the response.
2024-03-14 15:18:29.9475 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.DataTransferObjects.CompanyDto, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-14 15:18:29.9475 INFO Executed action CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation) in 4675.3746ms
2024-03-14 15:18:29.9475 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanies (CompanyEmployees.Presentation)'
2024-03-14 15:18:29.9475 DEBUG Connection id "0HN24A9517HL5" completed keep alive response.
2024-03-14 15:18:29.9475 DEBUG 'RepositoryContext' disposed.
2024-03-14 15:18:29.9475 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:18:29.9475 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 15:18:29.9475 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies - 200 - text/json;+charset=utf-8 4678.6647ms
2024-03-14 15:18:56.5230 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/collection/(6084e204-fe46-4988-8310-08dc435a671d,081d44b0-adef-489c-8311-08dc435a671d) - - -
2024-03-14 15:18:56.5230 DEBUG 1 candidate(s) found for the request path '/api/companies/collection/(6084e204-fe46-4988-8310-08dc435a671d,081d44b0-adef-489c-8311-08dc435a671d)'
2024-03-14 15:18:56.5296 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanyCollection (CompanyEmployees.Presentation)' with route pattern 'api/companies/collection/({ids})' is valid for the request path '/api/companies/collection/(6084e204-fe46-4988-8310-08dc435a671d,081d44b0-adef-489c-8311-08dc435a671d)'
2024-03-14 15:18:56.5296 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanyCollection (CompanyEmployees.Presentation)'
2024-03-14 15:18:56.5296 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:18:56.5296 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanyCollection (CompanyEmployees.Presentation)'
2024-03-14 15:18:56.5296 INFO Route matched with {action = "GetCompanyCollection", controller = "Companies"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCompanyCollection(System.Collections.Generic.IEnumerable`1[System.Guid]) on controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation).
2024-03-14 15:18:56.5296 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:18:56.5296 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:18:56.5296 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:18:56.5296 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:18:56.5296 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:18:56.5296 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:18:56.5296 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.CompaniesController (CompanyEmployees.Presentation)
2024-03-14 15:18:56.5296 DEBUG Attempting to bind parameter 'ids' of type 'System.Collections.Generic.IEnumerable`1[System.Guid]' ...
2024-03-14 15:18:56.5296 DEBUG Done attempting to bind parameter 'ids' of type 'System.Collections.Generic.IEnumerable`1[System.Guid]'.
2024-03-14 15:18:56.5296 DEBUG Attempting to validate the bound parameter 'ids' of type 'System.Collections.Generic.IEnumerable`1[System.Guid]' ...
2024-03-14 15:18:56.5296 DEBUG Done attempting to validate the bound parameter 'ids' of type 'System.Collections.Generic.IEnumerable`1[System.Guid]'.
2024-03-14 15:19:05.6780 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 15:19:05.6780 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(x => __ids_0
        .Contains(x.Id))
    .AsNoTracking()'
2024-03-14 15:19:05.7546 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId IN (
            SELECT i.value
            FROM OPENJSON(@__ids_0) WITH (value uniqueidentifier '') AS i)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)'
2024-03-14 15:19:05.7627 DEBUG Creating DbConnection.
2024-03-14 15:19:05.7627 DEBUG Created DbConnection. (0ms).
2024-03-14 15:19:05.7627 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:19:05.7627 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:19:05.7627 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 15:19:05.7627 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 15:19:05.7627 DEBUG Initialized DbCommand for 'ExecuteReader' (3ms).
2024-03-14 15:19:05.7627 DEBUG Executing DbCommand [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] uniqueidentifier '$') AS [i]
)
2024-03-14 15:19:05.7750 INFO Executed DbCommand (4ms) [Parameters=[@__ids_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] IN (
    SELECT [i].[value]
    FROM OPENJSON(@__ids_0) WITH ([value] uniqueidentifier '$') AS [i]
)
2024-03-14 15:19:05.7750 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:19:05.7750 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 15:19:05.7750 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:19:05.7750 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 15:19:05.7750 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 15:19:05.7750 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 15:19:05.7750 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 15:19:05.7750 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Shared.DataTransferObjects.CompanyDto, Shared, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-14 15:19:05.7750 INFO Executed action CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanyCollection (CompanyEmployees.Presentation) in 9244.3076ms
2024-03-14 15:19:05.7750 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.CompaniesController.GetCompanyCollection (CompanyEmployees.Presentation)'
2024-03-14 15:19:05.7750 DEBUG Connection id "0HN24A9517HL5" completed keep alive response.
2024-03-14 15:19:05.7750 DEBUG 'RepositoryContext' disposed.
2024-03-14 15:19:05.7750 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 15:19:05.7750 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 15:19:05.7750 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/collection/(6084e204-fe46-4988-8310-08dc435a671d,081d44b0-adef-489c-8311-08dc435a671d) - 200 - application/json;+charset=utf-8 9254.5334ms
2024-03-14 15:47:34.9798 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 15:47:35.1123 DEBUG Hosting starting
2024-03-14 15:47:35.2435 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 15:47:35.3559 INFO Now listening on: http://localhost:5149
2024-03-14 15:47:35.3559 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 15:47:35.3559 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 15:47:35.3559 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 15:47:35.3559 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 15:47:35.4202 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 15:47:35.4202 INFO Hosting environment: Development
2024-03-14 15:47:35.4202 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 15:47:35.4202 DEBUG Hosting started
2024-03-14 15:51:36.1133 DEBUG Connection id "0HN24AV36AABB" received FIN.
2024-03-14 15:51:36.1133 DEBUG Connection id "0HN24AV36AABB" accepted.
2024-03-14 15:51:36.1259 DEBUG Connection id "0HN24AV36AABB" started.
2024-03-14 15:51:36.1259 DEBUG Connection id "0HN24AV36AABC" accepted.
2024-03-14 15:51:36.1259 DEBUG Connection id "0HN24AV36AABC" started.
2024-03-14 15:51:36.1369 DEBUG Connection id "0HN24AV36AABB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 15:51:36.1369 DEBUG Connection id "0HN24AV36AABB" disconnecting.
2024-03-14 15:51:36.1369 DEBUG Connection id "0HN24AV36AABB" stopped.
2024-03-14 15:51:36.1668 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 116
2024-03-14 15:51:36.1668 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 15:51:36.1981 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 15:51:36.1981 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 15:51:36.1981 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 15:51:36.2256 WARN Failed to determine the https port for redirect.
2024-03-14 15:51:36.2256 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 15:51:36.2305 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 15:51:36.2608 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 15:51:36.2608 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 15:51:36.2608 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 15:51:36.2608 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 15:51:36.2608 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 15:51:36.2608 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 15:51:36.2608 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 15:51:36.4035 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 15:51:36.5767 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 15:51:36.5898 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 15:51:36.5898 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 15:51:36.5898 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 15:51:36.5898 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 15:51:36.5898 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 15:51:36.5898 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 15:51:36.5898 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 15:51:36.5898 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 15:51:36.5898 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:51:36.5898 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 15:51:36.5898 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 15:51:36.5898 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 15:51:36.5898 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 15:51:36.5898 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 15:51:36.5898 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-03-14 15:51:36.5898 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 15:51:36.6162 DEBUG Connection id "0HN24AV36AABC", Request id "0HN24AV36AABC:00000001": started reading request body.
2024-03-14 15:51:36.6162 DEBUG Connection id "0HN24AV36AABC", Request id "0HN24AV36AABC:00000001": done reading request body.
2024-03-14 15:51:36.6248 DEBUG JSON input formatter threw an exception: The JSON value could not be converted to Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-03-14 15:51:36.6248 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 15:51:36.6248 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 15:51:36.6248 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 15:51:36.6248 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 15:51:36.6369 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 15:51:36.6369 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 15:51:36.6369 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-14 15:51:36.6369 INFO Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-03-14 15:51:36.6369 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 381.8174ms
2024-03-14 15:51:36.6369 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 15:51:36.6501 DEBUG Connection id "0HN24AV36AABC" completed keep alive response.
2024-03-14 15:51:36.6501 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 400 - text/plain;+charset=utf-8 491.3118ms
2024-03-14 15:57:50.9532 DEBUG Connection id "0HN24AV36AABC" received FIN.
2024-03-14 15:57:50.9532 DEBUG Connection id "0HN24AV36AABC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 15:57:50.9610 DEBUG Connection id "0HN24AV36AABC" disconnecting.
2024-03-14 15:57:50.9610 DEBUG Connection id "0HN24AV36AABC" stopped.
2024-03-14 17:44:38.8075 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 17:44:39.0010 DEBUG Hosting starting
2024-03-14 17:44:39.1582 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 17:44:39.3188 INFO Now listening on: http://localhost:5149
2024-03-14 17:44:39.3188 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 17:44:39.3188 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 17:44:39.3188 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 17:44:39.3188 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 17:44:39.3821 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 17:44:39.3821 INFO Hosting environment: Development
2024-03-14 17:44:39.3821 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 17:44:39.3821 DEBUG Hosting started
2024-03-14 18:11:02.5294 DEBUG Connection id "0HN24DD0ILSGH" received FIN.
2024-03-14 18:11:02.5294 DEBUG Connection id "0HN24DD0ILSGH" accepted.
2024-03-14 18:11:02.5294 DEBUG Connection id "0HN24DD0ILSGH" started.
2024-03-14 18:11:02.5467 DEBUG Connection id "0HN24DD0ILSGI" accepted.
2024-03-14 18:11:02.5467 DEBUG Connection id "0HN24DD0ILSGI" started.
2024-03-14 18:11:02.5586 DEBUG Connection id "0HN24DD0ILSGH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 18:11:02.5586 DEBUG Connection id "0HN24DD0ILSGH" disconnecting.
2024-03-14 18:11:02.5586 DEBUG Connection id "0HN24DD0ILSGH" stopped.
2024-03-14 18:11:02.6001 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 92
2024-03-14 18:11:02.6172 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 18:11:02.6353 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:11:02.6353 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:11:02.6353 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:11:02.6623 WARN Failed to determine the https port for redirect.
2024-03-14 18:11:02.6623 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:11:02.6675 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:11:02.6975 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:11:02.6975 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:11:02.6975 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:11:02.6975 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:11:02.6975 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:11:02.6975 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:11:02.6975 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:11:02.9186 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 18:11:03.0839 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:11:03.1058 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:11:03.1058 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:11:03.1058 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:11:03.1058 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:11:03.1058 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:11:03.1058 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:11:03.1058 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:11:03.1058 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:11:03.1058 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:11:03.1058 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:11:03.1058 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:11:03.1058 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:11:03.1058 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:11:03.1058 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:11:03.1058 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-03-14 18:11:03.1058 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 18:11:03.1347 DEBUG Connection id "0HN24DD0ILSGI", Request id "0HN24DD0ILSGI:00000001": started reading request body.
2024-03-14 18:11:03.1347 DEBUG Connection id "0HN24DD0ILSGI", Request id "0HN24DD0ILSGI:00000001": done reading request body.
2024-03-14 18:11:03.1449 DEBUG JSON input formatter threw an exception: The JSON value could not be converted to Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-03-14 18:11:03.1449 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:11:03.1449 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:11:03.1449 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:11:03.1512 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:11:03.1512 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:11:03.1512 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:11:03.1512 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-14 18:11:03.1512 INFO Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-03-14 18:11:03.1746 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 470.8609ms
2024-03-14 18:11:03.1746 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:11:03.1746 DEBUG Connection id "0HN24DD0ILSGI" completed keep alive response.
2024-03-14 18:11:03.1746 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 400 - text/plain;+charset=utf-8 585.8258ms
2024-03-14 18:12:14.5674 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 92
2024-03-14 18:12:14.5674 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:12:14.5674 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:12:14.5674 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:12:14.5674 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:12:14.5674 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:12:14.5735 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:12:14.5735 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:12:14.5735 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:12:14.5735 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:12:14.5735 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:12:14.5735 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:12:14.5735 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:12:14.5911 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:12:14.5911 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:12:14.5911 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:12:14.5911 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:12:14.5911 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:12:14.5911 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:12:14.5911 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:12:14.5911 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:12:14.5911 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:12:14.5911 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:12:14.5911 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:12:14.5911 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:12:14.5911 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:12:14.5911 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:12:14.5911 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:12:14.5911 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-03-14 18:12:14.5911 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 18:12:14.5911 DEBUG Connection id "0HN24DD0ILSGI", Request id "0HN24DD0ILSGI:00000002": started reading request body.
2024-03-14 18:12:14.5911 DEBUG Connection id "0HN24DD0ILSGI", Request id "0HN24DD0ILSGI:00000002": done reading request body.
2024-03-14 18:12:14.5911 DEBUG JSON input formatter threw an exception: The JSON value could not be converted to Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-03-14 18:12:14.5911 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:12:14.5911 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:12:14.5911 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:12:14.5911 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:12:45.2797 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:12:45.2797 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:12:45.2797 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-14 18:12:45.2797 INFO Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-03-14 18:12:45.2797 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 30707.9349ms
2024-03-14 18:12:45.2797 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:12:45.2797 DEBUG Connection id "0HN24DD0ILSGI" completed keep alive response.
2024-03-14 18:12:45.2797 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 400 - text/plain;+charset=utf-8 30720.9360ms
2024-03-14 18:22:16.4394 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 18:22:16.5756 DEBUG Hosting starting
2024-03-14 18:22:16.6943 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 18:22:16.8058 INFO Now listening on: http://localhost:5149
2024-03-14 18:22:16.8058 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 18:22:16.8058 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 18:22:16.8058 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 18:22:16.8058 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 18:22:16.8678 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 18:22:16.8678 INFO Hosting environment: Development
2024-03-14 18:22:16.8678 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 18:22:16.8678 DEBUG Hosting started
2024-03-14 18:22:21.4136 DEBUG Connection id "0HN24DJAT0TMK" received FIN.
2024-03-14 18:22:21.4185 DEBUG Connection id "0HN24DJAT0TMK" accepted.
2024-03-14 18:22:21.4185 DEBUG Connection id "0HN24DJAT0TMK" started.
2024-03-14 18:22:21.4185 DEBUG Connection id "0HN24DJAT0TML" accepted.
2024-03-14 18:22:21.4185 DEBUG Connection id "0HN24DJAT0TML" started.
2024-03-14 18:22:21.4378 DEBUG Connection id "0HN24DJAT0TMK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 18:22:21.4378 DEBUG Connection id "0HN24DJAT0TMK" disconnecting.
2024-03-14 18:22:21.4378 DEBUG Connection id "0HN24DJAT0TMK" stopped.
2024-03-14 18:22:21.4697 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 92
2024-03-14 18:22:21.4851 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 18:22:21.5134 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:22:21.5134 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:22:21.5134 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:22:21.5334 WARN Failed to determine the https port for redirect.
2024-03-14 18:22:21.5334 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:22:21.5334 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:22:21.5583 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:22:21.5583 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:22:21.5583 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:22:21.5583 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:22:21.5583 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:22:21.5583 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:22:21.5583 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:22:21.7148 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 18:22:21.8657 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:22:21.8811 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:22:21.8811 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:22:21.8811 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:22:21.8811 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:22:21.8811 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:22:21.8859 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:22:21.8859 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:22:21.8859 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:22:21.8859 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:22:21.8859 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:22:21.8859 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:22:21.8859 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:22:21.8859 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:22:21.8859 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:22:21.8859 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-03-14 18:22:21.8859 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 18:22:21.9076 DEBUG Connection id "0HN24DJAT0TML", Request id "0HN24DJAT0TML:00000001": started reading request body.
2024-03-14 18:22:21.9076 DEBUG Connection id "0HN24DJAT0TML", Request id "0HN24DJAT0TML:00000001": done reading request body.
2024-03-14 18:22:21.9076 DEBUG JSON input formatter threw an exception: The JSON value could not be converted to Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-03-14 18:22:21.9076 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:22:21.9076 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:22:21.9076 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:22:21.9179 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:31:19.5295 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 18:31:19.6517 DEBUG Hosting starting
2024-03-14 18:31:19.7692 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 18:31:19.8749 INFO Now listening on: http://localhost:5149
2024-03-14 18:31:19.8749 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 18:31:19.8749 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 18:31:19.8749 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 18:31:19.8749 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 18:31:19.9378 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 18:31:19.9378 INFO Hosting environment: Development
2024-03-14 18:31:19.9378 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 18:31:19.9378 DEBUG Hosting started
2024-03-14 18:31:30.8602 DEBUG Connection id "0HN24DOEKUNB9" received FIN.
2024-03-14 18:31:30.8602 DEBUG Connection id "0HN24DOEKUNB9" accepted.
2024-03-14 18:31:30.8602 DEBUG Connection id "0HN24DOEKUNB9" started.
2024-03-14 18:31:30.8761 DEBUG Connection id "0HN24DOEKUNBA" accepted.
2024-03-14 18:31:30.8761 DEBUG Connection id "0HN24DOEKUNBA" started.
2024-03-14 18:31:30.8761 DEBUG Connection id "0HN24DOEKUNB9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 18:31:30.8856 DEBUG Connection id "0HN24DOEKUNB9" disconnecting.
2024-03-14 18:31:30.8856 DEBUG Connection id "0HN24DOEKUNB9" stopped.
2024-03-14 18:31:30.9135 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json 92
2024-03-14 18:31:30.9269 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 18:31:30.9523 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:31:30.9523 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:31:30.9523 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:31:30.9696 WARN Failed to determine the https port for redirect.
2024-03-14 18:31:30.9696 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:31:30.9696 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:31:30.9944 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:31:30.9944 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:31:30.9944 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:31:30.9944 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:31:30.9944 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:31:30.9944 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:31:30.9944 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:31:31.1536 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 18:31:31.3069 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:31:31.3069 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:31:31.3069 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:31:31.3223 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:31:31.3223 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:31:31.3223 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:31:31.3223 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:31:31.3223 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:31:31.3223 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:31:31.3223 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:31:31.3223 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:31:31.3223 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:31:31.3223 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:31:31.3223 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:31:31.3223 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:31:31.3223 DEBUG Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-03-14 18:31:31.3223 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-14 18:31:31.3444 DEBUG Connection id "0HN24DOEKUNBA", Request id "0HN24DOEKUNBA:00000001": started reading request body.
2024-03-14 18:31:31.3444 DEBUG Connection id "0HN24DOEKUNBA", Request id "0HN24DOEKUNBA:00000001": done reading request body.
2024-03-14 18:31:31.3444 DEBUG JSON input formatter threw an exception: The JSON value could not be converted to Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
2024-03-14 18:31:31.3444 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:31:31.3444 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:31:31.3444 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:31:31.3543 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:31:40.9980 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:31:40.9980 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:31:40.9980 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-14 18:31:40.9980 INFO Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-03-14 18:31:41.0156 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 10002.9203ms
2024-03-14 18:31:41.0156 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:31:41.0156 DEBUG Connection id "0HN24DOEKUNBA" completed keep alive response.
2024-03-14 18:31:41.0156 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 400 - text/plain;+charset=utf-8 10110.8283ms
2024-03-14 18:34:54.8714 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json-patch+json 92
2024-03-14 18:34:54.8714 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:34:54.8714 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:34:54.8714 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:34:54.8714 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:34:54.8714 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:34:54.8714 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:34:54.8714 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:34:54.8714 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:34:54.8714 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:34:54.8714 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:34:54.8714 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:34:54.8714 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:34:54.8949 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:34:54.8949 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:34:54.8949 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:34:54.8949 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:34:54.8949 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:34:54.8949 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:34:54.8949 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:34:54.8949 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:34:54.8949 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:34:54.8949 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:34:54.8949 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:34:54.8949 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:34:54.8949 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:34:54.8949 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:34:54.8949 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:34:54.8949 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-03-14 18:34:54.9165 DEBUG Connection id "0HN24DOEKUNBA", Request id "0HN24DOEKUNBA:00000002": started reading request body.
2024-03-14 18:34:54.9165 DEBUG Connection id "0HN24DOEKUNBA", Request id "0HN24DOEKUNBA:00000002": done reading request body.
2024-03-14 18:34:55.0474 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:34:55.0474 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:34:55.0474 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:34:55.0474 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:35:18.7844 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:35:18.8904 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(c => c.Id.Equals(__companyId_0))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 18:35:19.1671 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT TOP(2) c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId == @__companyId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 18:35:19.2048 DEBUG Creating DbConnection.
2024-03-14 18:35:19.2455 DEBUG Created DbConnection. (38ms).
2024-03-14 18:35:19.2455 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:21.6939 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:21.6939 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:35:21.7042 DEBUG Created DbCommand for 'ExecuteReader' (4ms).
2024-03-14 18:35:21.7139 DEBUG Initialized DbCommand for 'ExecuteReader' (17ms).
2024-03-14 18:35:21.7139 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:35:21.7727 INFO Executed DbCommand (48ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:35:21.7824 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:21.7824 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 12ms reading results.
2024-03-14 18:35:21.7918 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:21.7918 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-03-14 18:35:34.9383 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .SingleOrDefault()'
2024-03-14 18:35:34.9383 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 18:35:34.9509 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:34.9509 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:34.9509 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:35:34.9509 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:35:34.9509 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:35:34.9509 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:35:34.9509 INFO Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:35:34.9761 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:35:34.9968 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:34.9968 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 37ms reading results.
2024-03-14 18:35:34.9968 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:35:34.9968 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:36:16.1762 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 18:36:16.1762 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 18:36:16.1887 DEBUG The unchanged property 'Employee.Age' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 18:36:16.1887 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:36:16.2026 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 18:36:16.2621 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:36:16.2621 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:36:16.2621 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:36:16.2621 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:36:16.2621 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:36:16.2621 DEBUG Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:36:16.2621 INFO Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:36:16.2621 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:36:16.2621 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-03-14 18:36:16.2621 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:36:16.2621 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:36:16.2754 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:36:16.2754 DEBUG SaveChanges completed for 'RepositoryContext' with 1 entities written to the database.
2024-03-14 18:36:20.1543 INFO Executing StatusCodeResult, setting HTTP status code 204
2024-03-14 18:36:20.1543 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 85276.4032ms
2024-03-14 18:36:20.1543 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:36:20.1543 DEBUG Connection id "0HN24DOEKUNBA" completed keep alive response.
2024-03-14 18:36:20.1675 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:36:20.1675 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:36:20.1675 DEBUG Disposed connection to database '' on server '' (2ms).
2024-03-14 18:36:20.1812 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 204 - - 85310.0220ms
2024-03-14 18:38:02.9327 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - -
2024-03-14 18:38:02.9327 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:38:02.9327 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{employeeId:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:38:02.9327 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:02.9327 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:38:02.9327 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:02.9327 INFO Route matched with {action = "GetEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEmployeeForCompany(System.Guid, System.Guid) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:38:02.9327 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:38:02.9327 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:38:02.9327 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:38:02.9327 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:38:02.9327 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:38:02.9327 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:38:02.9327 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:38:02.9327 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:38:02.9327 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:38:02.9327 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:02.9327 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:02.9327 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:38:02.9327 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:02.9327 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:38:02.9327 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' using the name 'employeeId' in request data ...
2024-03-14 18:38:02.9327 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:38:02.9327 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:38:02.9327 DEBUG Attempting to validate the bound parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:38:02.9327 DEBUG Done attempting to validate the bound parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:38:03.0059 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:38:03.0119 DEBUG Creating DbConnection.
2024-03-14 18:38:03.0119 DEBUG Created DbConnection. (1ms).
2024-03-14 18:38:03.0119 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:03.0119 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:03.0119 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:03.0119 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:38:03.0119 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:38:03.0119 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:03.0119 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:03.0119 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 18:38:03.0119 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 18:38:03.0119 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:03.0119 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:03.0119 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:03.0119 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:38:03.0119 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:38:03.0119 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:03.0119 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0119 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:03.0277 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:38:03.0277 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:38:03.0277 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 18:38:03.0277 INFO Executing OkObjectResult, writing value of type 'Shared.DataTransferObjects.EmployeeDto'.
2024-03-14 18:38:03.0277 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation) in 98.341ms
2024-03-14 18:38:03.0277 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:03.0277 DEBUG Connection id "0HN24DOEKUNBA" completed keep alive response.
2024-03-14 18:38:03.0277 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:38:03.0277 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:03.0277 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 18:38:03.0277 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 200 - application/json;+charset=utf-8 105.3817ms
2024-03-14 18:38:19.6999 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json-patch+json 92
2024-03-14 18:38:19.6999 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:38:19.6999 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:38:19.6999 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:19.6999 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:38:19.6999 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:19.6999 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:38:19.6999 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:38:19.6999 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:38:19.6999 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:38:19.6999 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:38:19.6999 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:38:19.6999 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:38:19.7129 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:38:19.7129 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:38:19.7129 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:38:19.7129 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:19.7129 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:19.7129 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:38:19.7129 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:19.7129 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:38:19.7129 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:38:19.7129 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:38:19.7129 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:38:19.7129 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:38:19.7129 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:38:19.7129 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:38:19.7129 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:38:19.7129 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-03-14 18:38:19.7129 DEBUG Connection id "0HN24DOEKUNBA", Request id "0HN24DOEKUNBA:00000004": started reading request body.
2024-03-14 18:38:19.7129 DEBUG Connection id "0HN24DOEKUNBA", Request id "0HN24DOEKUNBA:00000004": done reading request body.
2024-03-14 18:38:19.7129 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:38:19.7129 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:38:19.7129 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:38:19.7129 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:38:20.9029 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:38:20.9029 DEBUG Creating DbConnection.
2024-03-14 18:38:20.9029 DEBUG Created DbConnection. (0ms).
2024-03-14 18:38:20.9029 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:20.9029 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:20.9029 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:20.9029 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:38:20.9029 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:38:20.9029 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:20.9029 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:20.9029 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:20.9029 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:20.9029 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:20.9029 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:38:20.9029 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:38:20.9029 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:38:20.9029 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:20.9029 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:20.9029 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 18:38:20.9029 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 18:38:20.9029 DEBUG The unchanged property 'Employee.Age' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 18:38:20.9029 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:38:20.9029 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 18:38:20.9029 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9029 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:20.9029 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:20.9029 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:20.9029 DEBUG Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:38:20.9172 INFO Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:38:20.9172 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9172 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:20.9172 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9172 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:20.9172 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:38:20.9172 DEBUG SaveChanges completed for 'RepositoryContext' with 1 entities written to the database.
2024-03-14 18:38:20.9172 INFO Executing StatusCodeResult, setting HTTP status code 204
2024-03-14 18:38:20.9172 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 1205.1894ms
2024-03-14 18:38:20.9172 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:20.9172 DEBUG Connection id "0HN24DOEKUNBA" completed keep alive response.
2024-03-14 18:38:20.9172 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:38:20.9172 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:20.9172 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 18:38:20.9172 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 204 - - 1218.7285ms
2024-03-14 18:38:28.5460 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - -
2024-03-14 18:38:28.5460 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:38:28.5460 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{employeeId:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:38:28.5460 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:28.5460 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:38:28.5460 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:28.5460 INFO Route matched with {action = "GetEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEmployeeForCompany(System.Guid, System.Guid) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:38:28.5460 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:38:28.5460 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:38:28.5460 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:38:28.5460 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:38:28.5460 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:38:28.5460 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:38:28.5460 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:38:28.5460 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:38:28.5460 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:38:28.5460 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:28.5460 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:28.5460 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:38:28.5460 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:38:28.5460 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:38:28.5460 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' using the name 'employeeId' in request data ...
2024-03-14 18:38:28.5460 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:38:28.5460 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:38:28.5460 DEBUG Attempting to validate the bound parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:38:28.5460 DEBUG Done attempting to validate the bound parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:38:28.5460 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:38:28.5460 DEBUG Creating DbConnection.
2024-03-14 18:38:28.5460 DEBUG Created DbConnection. (0ms).
2024-03-14 18:38:28.5460 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:28.5460 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:28.5460 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:28.5460 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:38:28.5460 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:38:28.5460 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:28.5460 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:28.5460 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:38:28.5460 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:28.5460 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:38:28.5460 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:38:28.5460 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:38:28.5460 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:38:28.5460 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:38:28.5460 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:38:28.5460 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:38:28.5460 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 18:38:28.5460 INFO Executing OkObjectResult, writing value of type 'Shared.DataTransferObjects.EmployeeDto'.
2024-03-14 18:38:28.5460 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation) in 8.6079ms
2024-03-14 18:38:28.5460 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:38:28.5460 DEBUG Connection id "0HN24DOEKUNBA" completed keep alive response.
2024-03-14 18:38:28.5460 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:38:28.5460 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:38:28.5460 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 18:38:28.5460 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 200 - application/json;+charset=utf-8 10.4412ms
2024-03-14 18:40:27.4626 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-14 18:40:27.6205 DEBUG Hosting starting
2024-03-14 18:40:27.7626 WARN The WebRootPath was not found: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API\wwwroot. Static files may be unavailable.
2024-03-14 18:40:27.8692 INFO Now listening on: http://localhost:5149
2024-03-14 18:40:27.8692 DEBUG Loaded hosting startup assembly Marinko.API
2024-03-14 18:40:27.8692 DEBUG Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-03-14 18:40:27.8692 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-14 18:40:27.8692 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-14 18:40:27.9282 INFO Application started. Press Ctrl+C to shut down.
2024-03-14 18:40:27.9282 INFO Hosting environment: Development
2024-03-14 18:40:27.9282 INFO Content root path: C:\TreinamentoLivros\Marinko\Marinko.API\Marinko.API
2024-03-14 18:40:27.9282 DEBUG Hosting started
2024-03-14 18:40:43.8763 DEBUG Connection id "0HN24DTJETQDB" received FIN.
2024-03-14 18:40:43.8763 DEBUG Connection id "0HN24DTJETQDB" accepted.
2024-03-14 18:40:43.8763 DEBUG Connection id "0HN24DTJETQDB" started.
2024-03-14 18:40:43.8849 DEBUG Connection id "0HN24DTJETQDC" accepted.
2024-03-14 18:40:43.8849 DEBUG Connection id "0HN24DTJETQDC" started.
2024-03-14 18:40:43.8849 DEBUG Connection id "0HN24DTJETQDB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-14 18:40:43.8849 DEBUG Connection id "0HN24DTJETQDB" disconnecting.
2024-03-14 18:40:43.8849 DEBUG Connection id "0HN24DTJETQDB" stopped.
2024-03-14 18:40:43.9282 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json-patch+json 91
2024-03-14 18:40:43.9430 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-14 18:40:43.9628 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:40:43.9628 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:40:43.9628 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:40:43.9875 WARN Failed to determine the https port for redirect.
2024-03-14 18:40:43.9875 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:40:43.9955 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:40:44.0255 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:40:44.0255 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:40:44.0255 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:40:44.0255 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:40:44.0255 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:40:44.0255 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:40:44.0255 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:40:44.1831 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-14 18:40:44.3287 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:40:44.3448 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:40:44.3448 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:40:44.3448 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:40:44.3448 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:40:44.3448 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:40:44.3448 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:40:44.3448 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:40:44.3448 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:40:44.3448 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:40:44.3448 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:40:44.3448 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:40:44.3448 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:40:44.3448 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:40:44.3448 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:40:44.3448 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-03-14 18:40:44.3684 DEBUG Connection id "0HN24DTJETQDC", Request id "0HN24DTJETQDC:00000001": started reading request body.
2024-03-14 18:40:44.3684 DEBUG Connection id "0HN24DTJETQDC", Request id "0HN24DTJETQDC:00000001": done reading request body.
2024-03-14 18:40:44.4785 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:40:44.4785 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:40:44.4787 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:40:44.4787 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:40:49.1384 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:40:49.1995 DEBUG Compiling query expression: 
'DbSet<Company>()
    .Where(c => c.Id.Equals(__companyId_0))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 18:40:49.4934 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Company>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Address (string) Required MaxLength(60), 1], [Property: Company.Country (string) Required MaxLength(60), 2], [Property: Company.Name (string) Required MaxLength(60), 3] }
        SELECT TOP(2) c.CompanyId, c.Address, c.Country, c.Name
        FROM Companies AS c
        WHERE c.CompanyId == @__companyId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Company>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 18:40:49.5253 DEBUG Creating DbConnection.
2024-03-14 18:40:49.5524 DEBUG Created DbConnection. (24ms).
2024-03-14 18:40:49.5524 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:49.9251 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:49.9251 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:40:49.9343 DEBUG Created DbCommand for 'ExecuteReader' (3ms).
2024-03-14 18:40:49.9343 DEBUG Initialized DbCommand for 'ExecuteReader' (14ms).
2024-03-14 18:40:49.9503 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:40:50.0007 INFO Executed DbCommand (45ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:40:50.0096 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.0096 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-03-14 18:40:50.0096 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.0096 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-03-14 18:40:50.0272 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .SingleOrDefault()'
2024-03-14 18:40:50.0272 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 18:40:50.0272 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.0272 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.0272 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:40:50.0272 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:50.0272 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:50.0272 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:40:50.0481 INFO Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:40:50.0645 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:40:50.0846 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.0846 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 36ms reading results.
2024-03-14 18:40:50.0846 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.0846 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:40:50.1067 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 18:40:50.1067 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 18:40:50.1212 DEBUG The unchanged property 'Employee.Age' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 18:40:50.1212 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:40:50.1358 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 18:40:50.1850 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.1850 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.1850 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:40:50.1850 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:50.1850 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:50.1850 DEBUG Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:40:50.1850 INFO Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:40:50.1850 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.1850 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-03-14 18:40:50.1850 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.1850 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:40:50.1985 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:40:50.1985 DEBUG SaveChanges completed for 'RepositoryContext' with 1 entities written to the database.
2024-03-14 18:40:50.1985 INFO Executing StatusCodeResult, setting HTTP status code 204
2024-03-14 18:40:50.1985 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 6165.6581ms
2024-03-14 18:40:50.1985 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:40:50.1985 DEBUG Connection id "0HN24DTJETQDC" completed keep alive response.
2024-03-14 18:40:50.1985 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:40:50.2181 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:50.2181 DEBUG Disposed connection to database '' on server '' (1ms).
2024-03-14 18:40:50.2181 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 204 - - 6299.8321ms
2024-03-14 18:40:55.2476 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - -
2024-03-14 18:40:55.2476 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:40:55.2476 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{employeeId:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:40:55.2476 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:40:55.2476 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:40:55.2476 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:40:55.2633 INFO Route matched with {action = "GetEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEmployeeForCompany(System.Guid, System.Guid) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:40:55.2633 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:40:55.2633 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:40:55.2633 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:40:55.2633 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:40:55.2633 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:40:55.2633 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:40:55.2633 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:40:55.2633 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:40:55.2633 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:40:55.2633 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:40:55.2633 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:40:55.2633 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:40:55.2633 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:40:55.2633 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:40:55.2633 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' using the name 'employeeId' in request data ...
2024-03-14 18:40:55.2633 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:40:55.2633 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:40:55.2633 DEBUG Attempting to validate the bound parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:40:55.2633 DEBUG Done attempting to validate the bound parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:40:55.3348 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:40:55.3392 DEBUG Creating DbConnection.
2024-03-14 18:40:55.3392 DEBUG Created DbConnection. (0ms).
2024-03-14 18:40:55.3392 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:40:55.3392 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:55.3392 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:55.3392 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:40:55.3392 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:40:55.3392 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:40:55.3392 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:40:55.3392 DEBUG Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.CompanyId.Equals(__companyId_0) && e.Id.Equals(__employeeId_1))
    .AsNoTracking()
    .SingleOrDefault()'
2024-03-14 18:40:55.3392 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Age (int) Required, 1], [Property: Employee.CompanyId (Guid) Required FK Index, 2], [Property: Employee.Name (string) Required MaxLength(30), 3], [Property: Employee.Position (string) Required MaxLength(20), 4] }
        SELECT TOP(2) e.EmployeeId, e.Age, e.CompanyId, e.Name, e.Position
        FROM Employees AS e
        WHERE (e.CompanyId == @__companyId_0) && (e.EmployeeId == @__employeeId_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    Repository.RepositoryContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-03-14 18:40:55.3392 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:40:55.3392 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:55.3392 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:40:55.3392 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:40:55.3392 INFO Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:40:55.3392 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:40:55.3392 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3392 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:40:55.3565 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:40:55.3565 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:40:55.3565 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 18:40:55.3565 INFO Executing OkObjectResult, writing value of type 'Shared.DataTransferObjects.EmployeeDto'.
2024-03-14 18:40:55.3812 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation) in 117.4443ms
2024-03-14 18:40:55.3812 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:40:55.3812 DEBUG Connection id "0HN24DTJETQDC" completed keep alive response.
2024-03-14 18:40:55.3812 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:40:55.3812 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:40:55.3812 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 18:40:55.3812 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 200 - application/json;+charset=utf-8 134.9984ms
2024-03-14 18:41:15.9710 INFO Request starting HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - application/json-patch+json 88
2024-03-14 18:41:15.9710 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:41:15.9710 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{id:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:41:15.9710 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:41:15.9710 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:41:15.9710 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:41:15.9710 INFO Route matched with {action = "PartiallyUpdateEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PartiallyUpdateEmployeeForCompany(System.Guid, System.Guid, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:41:15.9710 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:41:15.9710 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:41:15.9710 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:41:15.9710 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:41:15.9710 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:41:15.9710 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:41:15.9710 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:41:15.9780 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:41:15.9780 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:41:15.9780 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:41:15.9780 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:41:15.9780 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:41:15.9780 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:41:15.9780 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-03-14 18:41:15.9780 DEBUG Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-03-14 18:41:15.9780 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:41:15.9780 DEBUG Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-03-14 18:41:15.9780 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-03-14 18:41:15.9780 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-03-14 18:41:15.9780 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:41:15.9780 DEBUG Attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' using the name '' in request data ...
2024-03-14 18:41:15.9780 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-03-14 18:41:15.9780 DEBUG Connection id "0HN24DTJETQDC", Request id "0HN24DTJETQDC:00000003": started reading request body.
2024-03-14 18:41:15.9780 DEBUG Connection id "0HN24DTJETQDC", Request id "0HN24DTJETQDC:00000003": done reading request body.
2024-03-14 18:41:15.9780 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:41:15.9780 DEBUG Done attempting to bind parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:41:15.9780 DEBUG Attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]' ...
2024-03-14 18:41:15.9780 DEBUG Done attempting to validate the bound parameter 'patchDoc' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[Shared.DataTransferObjects.EmployeeForUpdateDto]'.
2024-03-14 18:41:18.0800 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:41:18.0800 DEBUG Creating DbConnection.
2024-03-14 18:41:18.0800 DEBUG Created DbConnection. (0ms).
2024-03-14 18:41:18.0800 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0800 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0800 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:41:18.0800 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:18.0800 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:18.0800 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:41:18.0800 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:41:18.0800 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0800 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:41:18.0800 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0800 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:41:18.0800 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0800 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0800 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:41:18.0800 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:18.0800 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:18.0800 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:41:18.0890 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:41:18.0890 DEBUG Context 'RepositoryContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:41:18.0890 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0890 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:41:18.0890 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.0890 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:41:18.1203 DEBUG SaveChanges starting for 'RepositoryContext'.
2024-03-14 18:41:18.1203 DEBUG DetectChanges starting for 'RepositoryContext'.
2024-03-14 18:41:18.1203 DEBUG The unchanged property 'Employee.Age' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-14 18:41:18.1203 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:41:18.1203 DEBUG DetectChanges completed for 'RepositoryContext'.
2024-03-14 18:41:18.1203 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.1203 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.1203 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:41:18.1203 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:18.1203 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:18.1203 DEBUG Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:41:18.1203 INFO Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [Age] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2024-03-14 18:41:18.1203 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.1203 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:41:18.1203 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.1203 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:41:18.1203 DEBUG An entity of type 'Employee' tracked by 'RepositoryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-14 18:41:18.1203 DEBUG SaveChanges completed for 'RepositoryContext' with 1 entities written to the database.
2024-03-14 18:41:18.1203 INFO Executing StatusCodeResult, setting HTTP status code 204
2024-03-14 18:41:18.1203 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation) in 2151.4264ms
2024-03-14 18:41:18.1203 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.PartiallyUpdateEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:41:18.1203 DEBUG Connection id "0HN24DTJETQDC" completed keep alive response.
2024-03-14 18:41:18.1203 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:41:18.1203 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:18.1203 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 18:41:18.1203 INFO Request finished HTTP/1.1 PATCH http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 204 - - 2156.0196ms
2024-03-14 18:41:24.8521 INFO Request starting HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - - -
2024-03-14 18:41:24.8521 DEBUG 1 candidate(s) found for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:41:24.8521 DEBUG Endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)' with route pattern 'api/companies/{companyId}/employees/{employeeId:guid}' is valid for the request path '/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A'
2024-03-14 18:41:24.8521 DEBUG Request matched endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:41:24.8521 DEBUG Static files was skipped as the request already matched an endpoint.
2024-03-14 18:41:24.8521 INFO Executing endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:41:24.8521 INFO Route matched with {action = "GetEmployeeForCompany", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEmployeeForCompany(System.Guid, System.Guid) on controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation).
2024-03-14 18:41:24.8521 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-14 18:41:24.8521 DEBUG Execution plan of resource filters (in the following order): None
2024-03-14 18:41:24.8521 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
2024-03-14 18:41:24.8521 DEBUG Execution plan of exception filters (in the following order): None
2024-03-14 18:41:24.8521 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-14 18:41:24.8521 DEBUG Executing controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:41:24.8537 DEBUG Executed controller factory for controller CompanyEmployees.Presentation.Controllers.EmployeesController (CompanyEmployees.Presentation)
2024-03-14 18:41:24.8537 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:41:24.8537 DEBUG Attempting to bind parameter 'companyId' of type 'System.Guid' using the name 'companyId' in request data ...
2024-03-14 18:41:24.8537 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:41:24.8537 DEBUG Done attempting to bind parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:41:24.8537 DEBUG Attempting to validate the bound parameter 'companyId' of type 'System.Guid' ...
2024-03-14 18:41:24.8537 DEBUG Done attempting to validate the bound parameter 'companyId' of type 'System.Guid'.
2024-03-14 18:41:24.8537 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:41:24.8537 DEBUG Attempting to bind parameter 'employeeId' of type 'System.Guid' using the name 'employeeId' in request data ...
2024-03-14 18:41:24.8537 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:41:24.8537 DEBUG Done attempting to bind parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:41:24.8537 DEBUG Attempting to validate the bound parameter 'employeeId' of type 'System.Guid' ...
2024-03-14 18:41:24.8537 DEBUG Done attempting to validate the bound parameter 'employeeId' of type 'System.Guid'.
2024-03-14 18:41:24.8537 DEBUG Entity Framework Core 8.0.2 initialized 'RepositoryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-03-14 18:41:24.8537 DEBUG Creating DbConnection.
2024-03-14 18:41:24.8537 DEBUG Created DbConnection. (0ms).
2024-03-14 18:41:24.8537 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:41:24.8537 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:24.8537 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:24.8537 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:41:24.8537 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [c].[CompanyId], [c].[Address], [c].[Country], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[CompanyId] = @__companyId_0
2024-03-14 18:41:24.8537 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:41:24.8537 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:41:24.8537 DEBUG Opening connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG Opened connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-14 18:41:24.8537 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:24.8537 DEBUG Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-14 18:41:24.8537 DEBUG Executing DbCommand [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:41:24.8537 INFO Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid), @__employeeId_1='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [e].[EmployeeId], [e].[Age], [e].[CompanyId], [e].[Name], [e].[Position]
FROM [Employees] AS [e]
WHERE [e].[CompanyId] = @__companyId_0 AND [e].[EmployeeId] = @__employeeId_1
2024-03-14 18:41:24.8537 DEBUG Closing data reader to 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG A data reader for 'Marinko' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-03-14 18:41:24.8537 DEBUG Closing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8537 DEBUG Closed connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-03-14 18:41:24.8537 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter, Marinko.API.CsvOutputFormatter
2024-03-14 18:41:24.8537 DEBUG Attempting to select an output formatter based on Accept header '*/*'.
2024-03-14 18:41:24.8537 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-14 18:41:24.8537 INFO Executing OkObjectResult, writing value of type 'Shared.DataTransferObjects.EmployeeDto'.
2024-03-14 18:41:24.8686 INFO Executed action CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation) in 15.2028ms
2024-03-14 18:41:24.8686 INFO Executed endpoint 'CompanyEmployees.Presentation.Controllers.EmployeesController.GetEmployeeForCompany (CompanyEmployees.Presentation)'
2024-03-14 18:41:24.8686 DEBUG Connection id "0HN24DTJETQDC" completed keep alive response.
2024-03-14 18:41:24.8686 DEBUG 'RepositoryContext' disposed.
2024-03-14 18:41:24.8686 DEBUG Disposing connection to database 'Marinko' on server '(localdb)\MSSQLLocalDB'.
2024-03-14 18:41:24.8686 DEBUG Disposed connection to database '' on server '' (0ms).
2024-03-14 18:41:24.8686 INFO Request finished HTTP/1.1 GET http://localhost:5149/api/companies/C9D4C053-49B6-410C-BC78-2D54A9991870/employees/80ABBCA8-664D-4B20-B5DE-024705497D4A - 200 - application/json;+charset=utf-8 17.0302ms
